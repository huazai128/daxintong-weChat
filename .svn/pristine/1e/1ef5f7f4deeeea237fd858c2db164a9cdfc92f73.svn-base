webpackJsonp([23],{1239:function(e,t,n){var r=n(1240);"string"==typeof r&&(r=[[e.i,r,""]]);var o={};o.transform=void 0;n(746)(r,o);r.locals&&(e.exports=r.locals)},1240:function(e,t,n){t=e.exports=n(745)(void 0),t.push([e.i,".bots-box>div{padding:0 .2rem}.bots-box>div .boxs-avatar{height:1.6rem;width:1.6rem;border-radius:50%;background:#e5e5e5;margin:1.2rem auto;overflow:hidden}.bots-box>div .boxs-avatar>img{width:100%;height:100%}.bots-box>div>p{font-size:.28rem;padding:0 1.2rem;text-align:center;color:#333;margin:0;margin-bottom:.4rem}.bots-box>div>.boxs-btns>div{width:100%;height:.9rem;line-height:.9rem;text-align:center;border:.01rem solid #ddd;background:#fff;border-radius:.1rem;margin-bottom:.3rem;color:#666}.bots-box>div>.boxs-btns>div.sure{background:#4794fe;color:#fff}",""])},338:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(300),c=r(u),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(301);var f=n(2),d=r(f),m=n(299),b=n(134),p=n(76),v=n(302);n(1239);var g=function(e){function t(e){var n=this;i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.getWxInfo=o(regeneratorRuntime.mark(function e(){var t,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.urlAPi.wxInfo();case 2:t=e.sent,Object.is(t.code,0)&&(o=t.result,i=o.is_register,a=o.headimg,s=o.nickname,Object.is(i,1)?r.setState({isLogin:i,headimg:a,nickname:s,sess_id:t.sess_id}):v.subViewHandle.replaceView("wxLogin",{title:"绑定手机号码"}));case 4:case"end":return e.stop()}},e,n)})),r.login=function(){var e=o(regeneratorRuntime.mark(function e(t,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.is(t,1)){e.next=7;break}return e.next=3,m.urlAPi.getWeixinstatus();case 3:o=e.sent,c.default.info(o.message,2,null,!1),(0,p.removeStore)("wxLogin"),Object.is(o.code,0)&&(Object.is(o.result.is_jump_mobile,0)?((0,p.setStore)("isLogin",!0),(0,p.setStore)("userId",r),b.hashHistory.push("/me")):v.subViewHandle.replaceView("wxLogin",{title:"绑定手机号码"}));case 7:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}(),r.state={isLogin:0,nickname:"",headimg:"",sess_id:""},r}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.getWxInfo()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLogin,r=t.headimg,o=(t.nickname,t.sess_id);return d.default.createElement("div",{className:"bots-box"},Object.is(n,1)&&d.default.createElement("div",null,d.default.createElement("div",{className:"boxs-avatar"},d.default.createElement("img",{src:r})),d.default.createElement("p",null,"您的微信账号已绑定以上大信通账号是否直接登录?"),d.default.createElement("div",{className:"boxs-btns"},d.default.createElement("div",{className:"sure",onClick:function(){e.login(n,o)}},"确认"),d.default.createElement("div",{onClick:function(){b.hashHistory.push("/login")}},"用其他大信通账号登录"))))}}]),t}(f.Component);t.default=g}});